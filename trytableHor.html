<!DOCTYPE html>
<html>
<head>
<style>
table, th, td {
    border: 1px solid black;
    border-collapse: collapse;
}
</style>
</head>
<body>
 
<h2>Fehlt table</h2>
 
<table id="HORTable">
    <tr>
        <th colspan="2">Datum</th>
    </tr>
    <tr>
        <th colspan="2">Uhrzeit</th>
    </tr>
    <tr>
        <th colspan="2">P.A.</th>
    </tr>
    <tr>
        <th colspan="2">Stückzahl</th>
    </tr>
    <tr>
        <th>2 Kontakthalter</th>
        <td>fehlt</td>
    </tr>
    <tr>
        <th rowspan="2">16 M6x12 DIN Schraube</th>
        <td>fehlt</td>
    </tr>
    <tr>
        <td>drehmoment</td>
    </tr>
    <tr>
        <th>13 U-Scheibe</th>
        <td>fehlt</td>
    </tr>
    <tr>
        <th>15 M6x25 DIN Schraube</th>
        <td>fehlt</td>
    </tr>
    <tr>
        <th>11 D-Scheibe</th>
        <td>fehlt</td>
    </tr>
    <tr>
        <th>12 C-Scheibe</th>
        <td>fehlt</td>
    </tr>
    <tr>
        <th>7 Bültescheibe</th>
        <td>fehlt</td>
    </tr>
    <tr>
        <th rowspan="2">5 Stecker</th> 
        <td>fehlt</td>
    </tr>
    <tr>
        <td>falsh montiert</td>
    </tr>
    <tr>
        <th rowspan="2">6 Clip</th> 
        <td>fehlt</td>
    </tr>
    <tr>
        <td>falsh montiert</td>
    </tr>
    <tr>
        <th>4 Schlosshalter</th>
        <td>fehlt</td>
    </tr>
    <tr>
        <th rowspan="2">8 EJOT Schraube</th>
        <td>fehlt</td>
    </tr>
    <tr>
        <td>drehmoment</td>
    </tr>
    <tr>
        <th>14 M6x16 DIN Schraube</th>
        <td>fehlt</td>
    </tr>
    <tr>
        <th>11 D-Scheibe</th>
        <td>fehlt</td>
    </tr>
    <tr>
        <th>12 C-Scheibe</th>
        <td>fehlt</td>
    </tr>
    <tr>
        <th>7 Bültescheibe</th>
        <td>fehlt</td>
    </tr>
    <tr>
        <th rowspan="2">18 M5 ISO Schraube</th>
        <td>fehlt</td>
    </tr>
    <tr>
        <td>drehmoment</td>
    </tr>
    <tr>
        <th rowspan="2">10 Plug</th>
        <td>fehlt</td>
    </tr>
    <tr>
        <td>falsh montiert</td>
    </tr>
    <tr>
        <th colspan="2">Ungebaut</th>
    </tr>
</table>
    <button id="saveButton">Enregistrer le tableau</button>
    <button id="button1">Neue</button>
<script>

    var startzeit = localStorage.getItem('Startzeit');
    var endzeit = localStorage.getItem('Endzeit');
    var uhrzeit = startzeit + " / " + endzeit;
    localStorage.setItem("Uhrzeit", uhrzeit)
    
function openPopup() {
        window.open("Neue.html","popupwindow","width=1920, height=1080");
    }
    
        window.addEventListener("DOMContentLoaded", function() {
        var button1 = document.getElementById("button1");
            
        button1.addEventListener("dblclick", function() {
                openPopup();
            })
        });

        var dataKeys = ['Datum', 'Startzeit', 'Endzeit', 'PA', 'Stuckzahl'];
        var buttonKeys = ['button1', 'button2', 'button3', 'button4', 'button5', 'button6', 'button7', 'button8', 'button9', 'button10', 'button11', 'button12', 'button13', 'button14', 'button15', 'button16', 'button17', 'button18', 'button19', 'button20', 'button21', 'button22', 'button23', 'button24'];

        function createAndFillCell(targetRow, content) {
            var newCell = targetRow.insertCell();
            newCell.textContent = content;
        }

        function populateTable() {
        var table = document.getElementById('HORTable');

            for (var i = 0; i < dataKeys.length; i++) {
                var dataKey = dataKeys[i];
                var dataValue = localStorage.getItem(dataKey);
                if (dataValue) {
                    var targetRow = table.rows[i];
                    createAndFillCell(targetRow, dataValue);
                }
            }

            for (var i = 0; i < buttonKeys.length; i++) {
                var buttonKey = buttonKeys[i];
                var buttonValue = localStorage.getItem(buttonKey);
                if (buttonValue) {
                    var targetRow = table.rows[i + dataKeys.length];
                    createAndFillCell(targetRow, buttonValue);
                }
            }
        }

        populateTable();

function saveTableData() {
    var table = document.getElementById('myTable');
    var rowData = [];

    // Parcourez chaque ligne du tableau
    for (var i = 0; i < table.rows.length; i++) {
        var row = table.rows[i];
        var cellData = [];

        // Parcourez chaque cellule de la ligne
        for (var j = 0; j < row.cells.length; j++) {
            var cell = row.cells[j];
            cellData.push(cell.textContent);
        }

        rowData.push(cellData);
    }

    // Convertissez les données en JSON
    var jsonData = JSON.stringify(rowData);

    // Sauvegardez les données dans le stockage local
    localStorage.setItem('tableData', jsonData);
}

// Fonction pour charger les données du stockage local et remplir le tableau
function loadTableData() {
    var jsonData = localStorage.getItem('tableData');

    if (jsonData) {
        var tableData = JSON.parse(jsonData);
        var table = document.getElementById('myTable');

        // Remplissez le tableau avec les données chargées
        for (var i = 0; i < tableData.length; i++) {
            var rowData = tableData[i];
            var row = table.insertRow();

            for (var j = 0; j < rowData.length; j++) {
                var cellData = rowData[j];
                var cell = row.insertCell();
                cell.textContent = cellData;
            }
        }
    }
}

loadTableData();

var saveButton = document.getElementById('saveButton');
saveButton.addEventListener('click', function () {
    saveTableData();

    
</script>
</body>
</html>
